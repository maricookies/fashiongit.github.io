<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Login</title>
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
   <link rel="stylesheet" href="style.css">
   <link rel="stylesheet" href="login.css">

</head>

<body onload="myFunction()" style="margin:0;">
   <!-- preloader -->
   <div id="loader"></div>

   <div style="display: none;" id="myDiv" class="animate-bottom">
      <div class="login">
         <img src="images/asian (2).jpg" alt="login image" class="login__img">
         <form action="./index.html" class="login__form" id="login-form">
            <p class="login__title">SignIn</p>
            <div class="login__content">
               <div class="login__box">
                  <i class="fa-solid fa-user"></i>
                  <div class="login__box-input">
                     <input type="email" required class="login__input" placeholder=" ">
                     <label for="" class="login__label">User Name/ Email</label>
                  </div>
               </div>
               <div class="login__box">
                  <div class="login__box-icon">
                     <i class="fa-solid fa-lock"></i>
                  </div>
                  <div class="login__box-input">
                     <input type="password" required class="login__input" id="login-pass" placeholder=" ">
                     <label for="login-pass" class="login__label">Password</label>
                     <p class="password-validation-message" style="display: none; color: red; font-size: 9px;">Password
                        must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special
                        characters, or emojis.</p>
                  </div>
                  <i class="fa-solid fa-eye-slash" id="hide-password"></i>
                  <i class="fa-solid fa-eye" id="show-password"></i>
               </div>
               <div class="login__check">
                  <div class="login__check-group">
                     <input type="checkbox" class="login__check-input">
                     <label for="" class="login__check-label">Remember me</label>
                  </div>
                  <a href="#" class="login__forgot" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                     Forgot Password?</a>
               </div>
               <button type="submit" class="login__button">SignIn</button>
               <p class="login__register">
                  Don't have an account? >>>>
                  <a href="./register.html">Register</a>
               </p>
         </form>
      </div>
      <!-- Forgot Password Modal -->
      <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
         aria-labelledby="staticBackdropLabel" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="background-color: var(--primary);">
               <div class="modal-header">
                  <h1 class="modal-title fs-5" id="staticBackdropLabel">Forgot Password?</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
               </div>
               <div class="modal-body">
                  <form>
                     <div class="mb-3">
                        <label for="forgotEmail" class="form-label">Enter your email</label>
                        <input type="email" class="form-control" id="forgotEmail" aria-describedby="emailHelp">
                        <div id="emailHelp" class="form-text">
                           We will send you a password reset link to this email.
                        </div>
                     </div>
                  </form>
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancle</button>
                  <a href="https://mail.google.com/mail/u/0/#inbox">
                     <button type="submit" class="btn" style="background-color: var(--warning);">
                        Submit
                     </button>
                  </a>
               </div>
            </div>
         </div>
      </div>
   </div>

   <!-- login script -->
   <script>
      const passwordInput = document.getElementById('login-pass');
      const showPasswordIcon = document.getElementById('show-password');
      const hidePasswordIcon = document.getElementById('hide-password');
      const validationMessage = document.querySelector('.password-validation-message');
      const emailInput = document.querySelector('.login__input[type="email"]');
      const loginForm = document.getElementById('login-form');

      showPasswordIcon.style.display = 'none'; // Hide fa-eye-slash by default

      hidePasswordIcon.addEventListener('click', function () {
         passwordInput.type = 'text';
         hidePasswordIcon.style.display = 'none';
         showPasswordIcon.style.display = 'block';
      });

      showPasswordIcon.addEventListener('click', function () {
         passwordInput.type = 'password';
         hidePasswordIcon.style.display = 'block';
         showPasswordIcon.style.display = 'none';
      });

      passwordInput.addEventListener('input', function () {
         const password = passwordInput.value;
         const isValid = /^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{8,20}$/.test(password);

         if (isValid) {
            validationMessage.style.display = 'none';
         } else {
            validationMessage.style.display = 'block';
         }
      });

      loginForm.addEventListener('submit', function (event) {
         event.preventDefault();

         // Client-side validation
         const emailValue = emailInput.value.trim();
         const passwordValue = passwordInput.value;
         const isEmailValid = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(emailValue);
         const isPasswordValid = /^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{8,20}$/.test(passwordValue);

         if (!isEmailValid) {
            alert('Invalid email format.');
            return;
         }

         if (!isPasswordValid) {
            alert('Password must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emojis.');
            return;
         }

         // Redirect to index.html after successful validation
         window.location.href = './index.html';
      });
   </script>

   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"></script>
   <!-- loader logo -->
   
   <script>
      var myVar;

      function myFunction() {
         myVar = setTimeout(showPage, 3000);
      }

      function showPage() {
         document.getElementById("loader").style.display = "none";
         document.getElementById("myDiv").style.display = "block";
      }
   </script>
</body>

</html>